(function(t){function e(e){for(var a,i,r=e[0],c=e[1],l=e[2],d=0,b=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&b.push(s[i][0]),s[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(b.length)b.shift()();return n.push.apply(n,l||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],a=!0,r=1;r<o.length;r++){var c=o[r];0!==s[c]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=o[0]))}return t}var a={},s={app:0},n=[];function i(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=a,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(o,a,function(e){return t[e]}.bind(null,a));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;n.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"01aa":function(t,e,o){},"0794":function(t,e,o){"use strict";var a=o("cda4"),s=o.n(a);s.a},1632:function(t,e,o){},"4ad5":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},n=[],i=(o("5c0b"),o("2877")),r={},c=Object(i["a"])(r,s,n,!1,null,null,null),l=c.exports,u=o("8c4f"),d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("app-page",{staticClass:"job-list-view",scopedSlots:t._u([{key:"header",fn:function(){return[o("div",{staticClass:"flex-container"},[o("form",{staticClass:"job-list-view__form item-fluid",on:{submit:function(e){return e.preventDefault(),t.handleFormSubmit(e)}}},[o("label",{staticClass:"job-list-view__form-label"},[o("span",[t._v("Search by location :")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],staticClass:"job-list-view__form-input",attrs:{placeholder:"Job location"},domProps:{value:t.location},on:{input:function(e){e.target.composing||(t.location=e.target.value)}}})]),o("button",{staticClass:"btn--primary job-list-view__form-button",attrs:{disabled:t.isFetching||!t.location,type:"submit"}},[o("i",{staticClass:"fas fa-search-location"})])]),o("router-link",{staticClass:"btn",attrs:{to:{name:"savedJobs"}}},[o("i",{staticClass:"fas fa-star"}),t._v(" See saved jobs ")])],1)]},proxy:!0}])},[o("section",{staticClass:"job-list-view__main"},[t.isFetching?o("div",{staticClass:"job-list-view__loader"},[o("loader")],1):t.error?o("div",{staticClass:"alert--danger"},[t._v(" An error happened. ")]):t.$store.state.jobs.length?o("job-list",{attrs:{jobs:t.$store.state.jobs}}):[t.$store.state.searchedLocation?o("div",{staticClass:"job-list-view__no-result block--placeholder"},[t._v(" No jobs found in "),o("em",[t._v(t._s(t.$store.state.searchedLocation))])]):o("div",{staticClass:"job-list-view__placeholder block--placeholder"},[t._v(" Please, input a location to search for jobs. ")])]],2)])},b=[],p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-page"},[t._m(0),o("header",{staticClass:"app-page__sub-header"},[t._t("header")],2),o("main",{staticClass:"app-page__main"},[o("div",{staticClass:"app-page__main-content"},[t._t("default")],2)])])},f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"app-page__header"},[a("img",{staticClass:"app-page__header-logo",attrs:{src:o("cf05")}}),t._v(" Github jobs ")])}],v={},_=v,h=(o("8ea9"),Object(i["a"])(_,p,f,!1,null,null,null)),j=h.exports,m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"loader"})},g=[],y=(o("a071"),{}),C=Object(i["a"])(y,m,g,!1,null,null,null),J=C.exports,w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"job-list"},t._l(t.jobs,(function(t){return o("job-list-item",{key:t.id,attrs:{job:t}})})),1)},x=[],O=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{staticClass:"job-list-item"},[o("dl",{staticClass:"flex-container"},[o("div",{staticClass:"item-fluid"},[o("dt",[t._v("Title")]),o("dd",{staticClass:"job-list-item__title"},[o("router-link",{attrs:{to:{name:"jobDetails",params:{id:t.job.id}}}},[t._v(" "+t._s(t.job.title))]),t.isSaved?o("i",{staticClass:"fas fa-star"}):t._e()],1),o("div",[o("dt",[t._v("Company")]),o("dd",{staticClass:"job-list-item__company"},[t._v(t._s(t.job.company))]),t._v(" - "),o("dt",[t._v("Job type")]),o("dd",{staticClass:"job-list-item__type"},[t._v(t._s(t.job.type))])])]),o("div",{staticClass:"txtright"},[o("dt",[t._v("Location")]),o("dd",{staticClass:"job-list-item__location"},[t._v(t._s(t.job.location))]),o("dt",[t._v("Posted on")]),o("dd",{staticClass:"job-list-item__created"},[t._v(t._s(t.formattedCreationDate))])])])])},S=[],$=(o("c975"),o("ef1b")),k={props:{job:{type:Object,required:!0}},computed:{isSaved:function(){return this.$store.state.savedJobIds.indexOf(this.job.id)>-1},formattedCreationDate:function(){return Object($["a"])(new Date(this.job.created_at))+" ago"}}},L=k,P=(o("f493"),Object(i["a"])(L,O,S,!1,null,null,null)),I=P.exports,E={components:{JobListItem:I},props:{jobs:{type:Array,required:!0}}},F=E,q=(o("6004"),Object(i["a"])(F,w,x,!1,null,null,null)),D=q.exports,T={components:{AppPage:j,Loader:J,JobList:D},data:function(){return{location:this.$store.state.searchedLocation||"",isFetching:!1,error:null}},created:function(){this.$route.query.location&&(this.location=this.$route.query.location,this.searchJobs())},methods:{handleFormSubmit:function(){this.location!==this.$route.query.location&&(this.$router.push({name:"jobList",query:{location:this.location}}),this.searchJobs())},searchJobs:function(){var t=this;this.location!==this.$store.state.searchedLocation&&(this.isFetching=!0,this.error=null,this.$store.dispatch("searchJobs",this.location).catch((function(e){console.error("Could not fetch jobs",e),t.error=e})).then((function(){t.isFetching=!1})))}}},M=T,A=(o("0794"),Object(i["a"])(M,d,b,!1,null,null,null)),B=A.exports,N=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("app-page",{staticClass:"job-details-view",scopedSlots:t._u([{key:"header",fn:function(){return[o("div",{staticClass:"clearfix"},[o("back-button",{staticClass:"fl"}),t.job?o("button",{staticClass:"fr btn",on:{click:function(e){t.isSaved?t.unsaveJob(t.job.id):t.saveJob(t.job.id)}}},[t.isSaved?[o("i",{staticClass:"fas fa-star"}),t._v(" Unsave job ")]:[o("i",{staticClass:"far fa-star"}),t._v(" Save job ")]],2):t._e()],1)]},proxy:!0}])},[t.error?o("div",{staticClass:"alert--danger"},[t._v(" Could not load job. ")]):t.job?o("job-details",{attrs:{job:t.job}}):o("loader")],1)},H=[],G=(o("7db0"),o("2f62")),R=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"btn",on:{click:function(e){return t.$router.back()}}},[o("i",{staticClass:"icon-arrow--left"}),t._v(" Go back ")])},U=[],Y={},z=Object(i["a"])(Y,R,U,!1,null,null,null),K=z.exports,Q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"job-details"},[o("h1",[t._v(t._s(t.job.title))]),o("section",{staticClass:"job-details__header autogrid"},[o("dl",{staticClass:"job-details__attributes col-2"},[o("dt",[t._v("Location")]),o("dd",[t._v(t._s(t.job.location))]),o("dt",[t._v("Type")]),o("dd",[t._v(t._s(t.job.type))]),o("dt",[t._v("Publication date")]),o("dd",[t._v(t._s(t.job.created_at))])]),o("dl",{staticClass:"job-details__company"},[o("dt",[t._v("Company")]),o("dd",[o("div",[t._v(t._s(t.job.company))]),t.job.company_logo?o("img",{staticClass:"job-details__company-logo",attrs:{src:t.job.company_logo}}):t._e(),t.job.compny_url?o("a",{staticClass:"job-details__company-link",attrs:{href:t.job.company_url}},[t._v(" "+t._s(t.job.company_url)+" ")]):t._e()])])]),o("div",{domProps:{innerHTML:t._s(t.job.description)}}),o("h2",[t._v("How to apply")]),o("div",{domProps:{innerHTML:t._s(t.job.how_to_apply)}})])},V=[],W={props:{job:{type:Object,required:!0}}},X=W,Z=(o("8499"),Object(i["a"])(X,Q,V,!1,null,null,null)),tt=Z.exports,et={components:{AppPage:j,Loader:J,BackButton:K,JobDetails:tt},props:{id:{type:String,required:!0}},data:function(){return{job:null,error:null}},created:function(){var t=this,e=this.$store.state.jobs.find((function(e){return e.id===t.id}));e?this.job=e:this.$store.dispatch("fetchJob",this.id).then((function(e){return t.job=e})).catch((function(e){console.error("Could not fetch job",e),t.error=e}))},methods:Object(G["b"])(["saveJob","unsaveJob"]),computed:{isSaved:function(){return this.$store.state.savedJobIds.indexOf(this.job.id)>-1}}},ot=et,at=Object(i["a"])(ot,N,H,!1,null,null,null),st=at.exports,nt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("app-page",{staticClass:"saved__jobs",scopedSlots:t._u([{key:"header",fn:function(){return[o("back-button")]},proxy:!0}])},[t.isFetching?o("div",{staticClass:"txtcenter pts pbs"},[o("loader")],1):t.jobs.length?o("job-list",{attrs:{jobs:t.jobs}}):o("div",{staticClass:"block--placeholder"},[t._v(" You don't have any saved job ")])],1)},it=[],rt=(o("4de4"),o("d81d"),o("d3b7"),o("3ca3"),o("ddb0"),o("96cf"),o("1da1")),ct={components:{AppPage:j,Loader:J,JobList:D,BackButton:K},data:function(){return{isFetching:!0,jobs:[]}},created:function(){var t=this;return Object(rt["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.$store.state.savedJobIds.map((function(e){return t.$store.dispatch("fetchJob",e).catch((function(t){return console.warn("Could not fetch job with id "+e,t),null}))})));case 2:o=e.sent,t.jobs=o.filter((function(t){return!!t})),t.isFetching=!1;case 5:case"end":return e.stop()}}),e)})))()}},lt=ct,ut=Object(i["a"])(lt,nt,it,!1,null,null,null),dt=ut.exports;a["a"].use(u["a"]);var bt=[{path:"/",redirect:"/jobs"},{path:"/jobs",name:"jobList",component:B},{path:"/jobs/saved",name:"savedJobs",component:dt},{path:"/jobs/:id",name:"jobDetails",component:st,props:!0}],pt=new u["a"]({mode:"history",base:"/",routes:bt}),ft=pt,vt=(o("caad"),o("a434"),o("2532"),o("bc3a")),_t=o.n(vt);a["a"].use(G["a"]);var ht="savedJobIds",jt=new G["a"].Store({state:{searchedLocation:null,jobs:[],savedJobIds:[]},mutations:{setSeachedLocation:function(t,e){t.searchedLocation=e},setJobs:function(t,e){t.jobs=e},saveJob:function(t,e){t.savedJobIds.includes(e)||t.savedJobIds.push(e)},unsaveJob:function(t,e){var o=t.savedJobIds.indexOf(e);o>-1&&t.savedJobIds.splice(o,1)},setSavedJobs:function(t,e){t.savedJobIds=e}},actions:{searchJobs:function(t,e){return t.commit("setSeachedLocation",e),t.commit("setJobs",[]),_t.a.get("/api/jobs?location="+e,{withCredentials:!0}).then((function(e){var o=e.data;return t.commit("setJobs",o),o}))},fetchJob:function(t,e){return _t.a.get("/api/jobs/"+e).then((function(t){var e=t.data;return e}))},saveJob:function(t,e){t.commit("saveJob",e),mt(t.state.savedJobIds)},unsaveJob:function(t,e){t.commit("unsaveJob",e),mt(t.state.savedJobIds)},initSavedJobs:function(t){var e=localStorage.getItem(ht);e&&t.commit("setSavedJobs",JSON.parse(e))}}});function mt(t){localStorage.setItem(ht,JSON.stringify(t))}a["a"].config.productionTip=!1,new a["a"]({router:ft,store:jt,render:function(t){return t(l)}}).$mount("#app");try{jt.dispatch("initSavedJobs")}catch(gt){console.error("Could not init saved jobs",gt)}},5904:function(t,e,o){},"5c0b":function(t,e,o){"use strict";var a=o("9c0c"),s=o.n(a);s.a},6004:function(t,e,o){"use strict";var a=o("1632"),s=o.n(a);s.a},8499:function(t,e,o){"use strict";var a=o("5904"),s=o.n(a);s.a},"8ea9":function(t,e,o){"use strict";var a=o("01aa"),s=o.n(a);s.a},"9c0c":function(t,e,o){},a071:function(t,e,o){"use strict";var a=o("c25f"),s=o.n(a);s.a},c25f:function(t,e,o){},cda4:function(t,e,o){},cf05:function(t,e,o){t.exports=o.p+"img/logo.26343e0a.png"},f493:function(t,e,o){"use strict";var a=o("4ad5"),s=o.n(a);s.a}});
//# sourceMappingURL=app.26d1f22a.js.map